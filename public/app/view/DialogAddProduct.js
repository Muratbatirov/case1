/*
 * File: app/view/DialogAddProduct.js
 *
 * This file was generated by Sencha Architect version 4.2.9.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 7.3.x Modern library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 7.3.x Modern. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('Case.view.DialogAddProduct', {
    extend: 'Ext.Dialog',
    alias: 'widget.dialogaddproduct',

    requires: [
        'Case.view.DialogEditProductViewModel3',
        'Case.view.DialogAddProductViewController3',
        'Ext.form.Panel',
        'Ext.field.Container',
        'Ext.field.ComboBox',
        'Ext.XTemplate',
        'Ext.field.Number',
        'Ext.field.TextArea',
        'Ext.Button'
    ],

    controller: 'dialogaddproduct',
    viewModel: {
        type: 'dialogaddproduct'
    },
    docked: 'right',
    title: 'My Dialog',

    items: [
        {
            xtype: 'formpanel',
            reference: 'form',
            itemId: 'myformpanel',
            items: [
                {
                    xtype: 'containerfield',
                    layout: 'hbox',
                    items: [
                        {
                            xtype: 'combobox',
                            flex: 1,
                            modelValidation: true,
                            label: 'Категория',
                            required: true,
                            validators: {
                                category: [
                                    {
                                        type: 'presence',
                                        message: 'This field is mandatory'
                                    },
                                    {
                                        type: 'length',
                                        min: 2,
                                        max: 45
                                    }
                                ],
                                id: [
                                    {
                                        type: 'presence',
                                        message: 'This field is mandatory'
                                    },
                                    
                                ]
                            },
                            editable: false,
                            picker: 'floated',
                            autoLoadOnValue: true,
                            displayField: 'category',
                            store: 'categoryComboStore',
                            valueField: 'id',
                            bind: {
                                value: '{crecord.category_id}'
                            }
                        },
                        {
                            xtype: 'combobox',
                            flex: 1,
                            label: 'Поставщик',
                            required: true,
                            editable: false,
                            picker: 'floated',
                            autoLoadOnValue: true,
                            displayField: 'postavshik',
                            store: 'postavshikComboStore',
                            valueField: 'id',
                            bind: {
                                value: '{crecord.postavshik_id}'
                            }
                        }
                    ]
                },
                {
                    xtype: 'textfield',
                    name: 'name',
                    label: 'Название продукта',
                    required: true,
                    bind: {
                        value: '{crecord.name}'
                    }
                },
                {
                    xtype: 'numberfield',
                    name: 'price',
                    label: 'Цена',
                    required: true,
                    bind: {
                        value: '{crecord.price}'
                    }
                },
                {
                    xtype: 'numberfield',
                    name: 'quantity',
                    label: 'Количество',
                    required: true,
                    bind: {
                        value: '{crecord.quantity}'
                    }
                },
                {
                    xtype: 'textareafield',
                    name: 'opisanie',
                    label: 'Описания товара',
                    required: true,
                    bind: {
                        value: '{crecord.opisanie}'
                    }
                },
                {
                    xtype: 'button',
                    cls: 'createButton',
                    margin: '10 0 0 0 ',
                    text: 'Сохранить',
                    listeners: {
                        tap: 'onButtonTapProduct'
                    }
                }
            ]
        }
    ],
    listeners: {
        beforeshow: 'onDialogBeforeShow'
    }

});